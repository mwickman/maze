<!DOCTYPE html>
<html>
<script src="maze.js"></script>

<body>
  <div>
  <button onclick="draw()">Refresh!</button>
  <input type="number" id="height">height</input>
  <input type="number" id="width">width</input>
  <input type="number" id="cell size">cell size</input>

  </div>
  
  <div>
    <canvas id="maze">Your browser does not support the HTML5 canvas tag.</canvas>
  </div>
  </body>
<script>
var height = 20;
var size = 20;
var width = 20;

//Draw out the maze in canvas
//clearGrid();
draw();
function draw () {
  width = Number(document.getElementById('width').value) || 20;
  height = Number(document.getElementById('height').value) || 20;
  size = Number(document.getElementById('cell size').value) || 20;
  clearGrid();
  carve(0,0,grid);
  var c=document.getElementById('maze');
  var ctx=c.getContext('2d');

  c.width= width*size+25;
  c.height = height*size+5;

  //should probably find a way to factor out some of the below
  for (var row=0; row<height; row++) {
    for (var col=0; col<width; col++) {

      if ((grid[row][col] & cardinal['n']) == 0) {
        ctx.moveTo(0.5+size*col, 0.5+size*row);
        ctx.lineTo(0.5+size*col+size, 0.5+size*row);
      }
      if ((grid[row][col] & cardinal['s']) == 0) {
        ctx.moveTo(0.5+size*col + size, 0.5+size*row + size);
        ctx.lineTo(0.5+size*col, 0.5+size*row + size);
      }
      if ((grid[row][col] & cardinal['e']) == 0) {
          ctx.moveTo(0.5+size*col+size, 0.5+size*row + size);
          ctx.lineTo(0.5+size*col + size, 0.5+size*row);
      }
      if ((grid[row][col] & cardinal['w']) == 0) {
          ctx.moveTo(0.5+size*col, 0.5+size*row);
          ctx.lineTo(0.5+size*col, 0.5+size*row+size);
      } 

     }
  }
  ctx.strokeStyle = "#000";
  ctx.stroke();
  for (var i=0; i< grid.length; i++) {
  console.log(grid[i]);
  }
}
//buttons and forms on page

</script>
</html>
